<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Septic24 ‚Äì –ü–æ—Å–ª—É–≥–∏ –∞—Å–µ–Ω—ñ–∑–∞—Ç–æ—Ä–∞ –≤ –£–∫—Ä–∞—ó–Ω—ñ</title>
  <!-- –§—ñ–∫—Å–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (–∑–∞–±–æ—Ä–æ–Ω–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —ñ —Å–∫—Ä–æ–ª–ª–∞) -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —à—Ä–∏—Ñ—Ç–∞ Montserrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link 
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
    rel="stylesheet"
  >
  
  <!-- OpenLayers CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@7.3.0/dist/ol.css">
  
  <style>
    /* –°—Ö–æ–≤–∞—Ç–∏ –∞—Ç—Ä–∏–±—É—Ü—ñ—é OpenStreetMap */
    .ol-attribution {
      display: none !important;
    }
    
    /* –í—ñ–¥–∫–ª—é—á–∞—î–º–æ –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≥–æ–ª–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #ffffff, #d0e8ff);
      color: #002050;
      transition: background 0.5s, color 0.5s;
    }

    /* –õ–æ–≥–æ—Ç–∏–ø –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ */
    #mainLogo {
      position: fixed;
      top: 5px;
      right: 10px;
      z-index: 10000;
    }
    #mainLogo img {
      width: 40px;
      height: auto;
      border-radius: 50%;
      object-fit: cover;
      background: transparent;
    }
    
    /* –Ü–∫–æ–Ω–∫–∏ –º–µ—Å–µ–Ω–¥–∂–µ—Ä—ñ–≤ —É –ª—ñ–≤–æ–º—É –∫—É—Ç—ñ */
    #socialIcons {
      position: fixed;
      top: 10px;
      left: 15px;
      z-index: 10000;
      display: flex;
      gap: 10px;
    }
    #socialIcons img {
      width: 30px;
      height: auto;
      filter: invert(38%) sepia(100%) saturate(5000%) hue-rotate(180deg) brightness(85%) contrast(105%);
    }
    
    /* –ë–ª–æ–∫ –∑ –Ω–æ–º–µ—Ä–∞–º–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤ */
    #phoneNumbers {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10000;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #phoneNumbers a {
      margin: 2px 0;
      text-decoration: none;
      color: #002050;
      font-weight: bold;
      font-size: 0.8rem;
    }
    
    /* –ï–∫—Ä–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è */
    .loader {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(135deg, #f0f9ff, #d0e8ff);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 99999;
      text-align: center;
    }
    .loader-logo-wrap {
      position: relative;
      width: 200px;
      height: 200px;
    }
    .loader-logo-wrap::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 100%;
      transform: translate(-50%, -50%);
      border: 2px solid rgba(0, 96, 160, 0.2);
      border-top: 2px solid #0060a0;
      border-radius: 50%;
      animation: ringSpin 2s linear infinite;
    }
    @keyframes ringSpin {
      0%   { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }
    .loader-logo-wrap img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
      z-index: 1;
      box-shadow: 0 0 20px #80d0ff;
    }
    /* –¢–µ–∫—Å—Ç –ø—ñ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á–µ–º ‚Äì —Ç—Ä–æ—Ö–∏ –æ–ø—É—â–µ–Ω–∏–π —ñ —Å–≤—ñ—Ç–ª—ñ—à–∏–π */
    .loader p {
      margin-top: 20px;
      font-weight: 700;
      color: #4F6D8F;
    }
    
    /* –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äì —Å–ø–æ—á–∞—Ç–∫—É –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π, —â–æ–± –Ω–µ –±—É–ª–æ –≤–∏–¥–Ω–æ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é –¥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è */
    .container {
      display: none;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      min-height: 100vh;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 120px 20px 20px 20px;
      box-sizing: border-box;
      text-align: center;
    }
    .animate {
      animation: fadeInUp 0.8s ease forwards;
    }
    @keyframes fadeInUp {
      from { transform: translateY(20px); opacity: 0; }
      to   { transform: translateY(0);     opacity: 1; }
    }
    
    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞ –æ–ø–∏—Å */
    #title {
      font-size: 2rem;
      margin-bottom: 10px;
      font-weight: 700;
    }
    #mainImage {
      display: block;
      margin: 20px auto;
      max-width: 250px;
      width: 100%;
      height: auto;
    }
    /* –ó–º—ñ–Ω–µ–Ω–æ: "–≤–∏–≥—Ä–µ–±–Ω–∏—Ö" ‚Üí "–≤–∏–≥—Ä—ñ–±–Ω–∏—Ö" */
    #description {
      font-size: 1rem;
      line-height: 1.4;
      max-width: 700px;
      margin: 0 10px;
    }
    #boldLine {
      font-weight: 700;
      font-size: 1rem;
      margin: 10px 20px 0 20px;
    }
    
    /* –ö–Ω–æ–ø–∫–∏ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é */
    .buttons {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin-top: 20px;
      width: 100%;
      max-width: 300px;
    }
    .btn {
      width: 100%;
      padding: 12px 20px;
      font-weight: 700;
      font-size: 1.1rem;
      text-decoration: none;
      text-align: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      color: #fff;
      background: #0060a0;
      cursor: pointer;
      border-radius: 5px;
      border: none;
      display: inline-flex; 
      align-items: center; 
      justify-content: center;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 5px #0060a0, 0 0 10px #0060a0;
    }
    .btn:active {
      transform: scale(0.95);
      box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
    }
    #btnOrder {
      box-shadow: 0 0 5px 1px #90EE90;
    }
    
    /* –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è –º–æ–¥–∞–ª—å–Ω–∏—Ö –≤—ñ–∫–æ–Ω */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; 
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 99998;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease;
      background: rgba(0, 0, 0, 0.7);
    }
    .modal-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }
    .modal {
      position: relative;
      padding: 20px;
      border-radius: 8px;
      max-width: 300px;
      min-height: 400px;
      width: 90%;
      transform: translateY(-20px);
      opacity: 0;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      text-align: left;
      transition: transform 0.5s ease, opacity 0.5s ease;
      background: linear-gradient(135deg, #ffffff, #d0e8ff);
      color: #002050;
      border: 2px solid #0060a0;
      box-shadow: 0 0 5px #0060a0, 0 0 10px #0060a0;
      max-height: 80vh;
      overflow-y: auto;
    }
    .modal.active {
      transform: translateY(0);
      opacity: 1;
    }
    .modal .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
      font-size: 2rem;
      line-height: 1;
      color: #002050;
    }
    
    /* –ü—Ä–æ –Ω–∞—Å */
    #modalAbout {
      max-width: 320px;
      text-align: center;
    }
    
    /* –°–ª–∞–π–¥–µ—Ä (–ü–æ—Å–ª—É–≥–∏) */
    .slider-container {
      position: relative;
      overflow: hidden;
      width: 100%;
      margin-top: 10px;
      min-height: 300px;
      padding-bottom: 40px;
    }
    .slider {
      display: flex;
      transition: transform 0.3s ease;
      height: 100%;
    }
    .service-card {
      flex: 0 0 100%;
      margin: 0;
      border-radius: 6px;
      padding: 15px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      min-height: 550px;
      margin-top: 30px;
    }
    .service-card h3 {
      margin: 0 0 10px 0;
      font-weight: 700;
    }
    .service-card img {
      max-width: 100%;
      height: auto;
      margin: 10px 0;
      border-radius: 4px;
    }
    .service-card p {
      font-size: 0.95rem;
      margin: 2px 5px;
      text-align: justify;
      line-height: 1.2;
    }
    
    /* –ö–Ω–æ–ø–∫–∏ "–û–±–µ—Ä—ñ—Ç—å –ø–æ—Å–ª—É–≥—É" (–ö—Ä–æ–∫ 1) */
    #orderServicesButtons {
      padding-left: 10px;
    }
    #orderServicesButtons .btn {
      display: inline-flex;
      align-items: center;
      justify-content: flex-start;
      width: 100%;
      min-height: 60px;
      margin-bottom: 10px;
      white-space: nowrap;
    }
    
    /* –ö–Ω–æ–ø–∫–∏ –≤–∏–±–æ—Ä—É –æ–±–ª–∞—Å—Ç–µ–π (–ö—Ä–æ–∫ 2) */
    #regionButtons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      width: 100%;
      max-width: 320px;
      margin: 0 auto;
    }
    #regionButtons .btn {
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 0.85rem;
      text-align: center;
      white-space: nowrap;
      min-height: 35px;
      padding: 6px 8px;
    }
    
    /* –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –ö—Ä–æ–∫—É 1.5 */
    #orderStep1_5_tubes, #orderStep1_5_capacity {
      display: none; 
      text-align: center; 
      width: 100%;
      box-sizing: border-box;
      margin-top: 50px;
    }
    
    /* –ó–±—ñ–ª—å—à–µ–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è range-—ñ–Ω–ø—É—Ç—ñ–≤ */
    input[type="range"].big {
      -webkit-appearance: none;
      appearance: none;
      width: 80%;
      margin: 0 auto;
      height: 12px;
      border-radius: 4px;
      background: #ccc;
      outline: none;
      cursor: pointer;
    }
    input[type="range"].big:focus {
      outline: none;
    }
    input[type="range"].big::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 24px; 
      height: 24px; 
      border-radius: 50%;
      background: #0060a0;
      border: none;
      cursor: pointer;
      box-shadow: none;
    }
    input[type="range"].big::-moz-range-thumb {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #0060a0;
      border: none;
      cursor: pointer;
    }

    /* –°—Ç–∏–ª—ñ –¥–ª—è –±–ª–æ–∫—É –∑ –∫–∞—Ä—Ç–æ—é */
    #olMap {
      width: 100%;
      height: 300px;
      border-radius: 8px;
      margin-top: 10px;
    }

    /* –ó–±—ñ–ª—å—à–µ–Ω–∏–π input –¥–ª—è –∞–¥—Ä–µ—Å–∏ –∑ –∑–µ–ª–µ–Ω–æ—é —Ä–∞–º–∫–æ—é */
    #addressInput {
      width: 90%;
      padding: 10px;
      font-size: 1.1rem;
      border: 1px solid green;
    }

    /* –û–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥—É —ñ–º–µ–Ω—ñ —Ç–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É ‚Äì –∑–±—ñ–ª—å—à–µ–Ω—ñ –ø–æ–ª—è –∑ –∑–µ–ª–µ–Ω–∏–º —Ç–æ–Ω–∫–∏–º –∫–æ–Ω—Ç—É—Ä–æ–º */
    .modal-user-data input {
      width: 90%;
      padding: 10px;
      font-size: 1.1rem;
      border: 1px solid green;
      margin: 10px auto;
      text-align: center;
      display: block;
    }
    
    /* –û–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥—É —ñ–º–µ–Ω—ñ —Ç–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É (–ø—ñ–¥–Ω—è—Ç–æ —Ç—Ä–æ—Ö–∏ –≤–∏—â–µ) */
    .modal-overlay#modalOverlayUserData {
      /* –ü—ñ–¥–Ω—ñ–º–∞—î–º–æ –≤—ñ–∫–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥—É */
      align-items: flex-start;
      padding-top: 50px;
    }
    .modal-user-data {
      position: relative;
      padding: 20px;
      border-radius: 8px;
      max-width: 300px;
      width: 90%;
      min-height: 400px;
      transform: translateY(-20px);
      opacity: 0;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      text-align: left;
      transition: transform 0.5s ease, opacity 0.5s ease;
      background: linear-gradient(135deg, #ffffff, #d0e8ff);
      color: #002050;
      border: 2px solid #0060a0;
      box-shadow: 0 0 5px #0060a0, 0 0 10px #0060a0;
      max-height: 80vh;
      overflow-y: auto;
    }
    .modal-user-data.active {
      transform: translateY(0);
      opacity: 1;
    }
    
    /* –ù–æ–≤–µ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è "–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" */
    #modalMyOrders {
      max-width: 320px;
      text-align: center;
    }
    
    /* –ú–µ–¥—ñ–∞-–∑–∞–ø–∏—Ç–∏ –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—ñ */
    @media (max-width: 600px) {
      #title { font-size: 1.5rem; }
      #description { font-size: 0.9rem; }
      .btn { font-size: 1rem; padding: 10px; }
      .container { padding: 120px 10px 10px 10px; }
      #orderStep1 {
        align-items: center;
        text-align: center;
      }
      #orderServicesButtons .btn span {
        flex: unset;
        text-align: center !important;
        margin: 0 auto;
      }
    }
  </style>
</head>
<body>
  <!-- –Ü–∫–æ–Ω–∫–∏ –º–µ—Å–µ–Ω–¥–∂–µ—Ä—ñ–≤ (Telegram —Ç–∞ Viber) -->
  <div id="socialIcons">
    <a href="https://t.me/Septic24_ua" target="_blank"><img src="https://i.ibb.co/r24wtsvm/61-1.png" alt="Telegram"></a>
    <a href="viber://chat?number=+380980099686" target="_blank"><img src="https://i.ibb.co/PvmNdLvN/62-1.png" alt="Viber"></a>
  </div>

  <!-- –ë–ª–æ–∫ –∑ –Ω–æ–º–µ—Ä–∞–º–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤ -->
  <div id="phoneNumbers">
    <a href="tel:+380980099686" target="_blank">+38 (098) 0099-686</a>
    <a href="tel:+380662960008" target="_blank">+38 (066) 296-0008</a>
  </div>
  
  <!-- –õ–æ–≥–æ—Ç–∏–ø -->
  <div id="mainLogo">
    <a href="https://septic24.com.ua">
      <img src="https://i.ibb.co/BH3bjrPP/IMG-9356.jpg" alt="Logo">
    </a>
  </div>
  
  <!-- –ï–∫—Ä–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è -->
  <div class="loader" id="loader">
    <div class="loader-logo-wrap">
      <img src="https://i.ibb.co/3Q3LXDk/IMG-9356.png" alt="Loader Logo">
    </div>
    <p>–°–µ—Ä–≤—ñ—Å –∫–∞–Ω–∞–ª—ñ–∑–∞—Ü—ñ–π–Ω–∏—Ö –ø–æ—Å–ª—É–≥</p>
  </div>
  
  <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–∑–∞—Ä–∞–∑ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π) -->
  <div class="container">
    <h1 id="title">–ü–æ—Å–ª—É–≥–∏ –∞—Å–µ–Ω—ñ–∑–∞—Ç–æ—Ä–∞ –ø–æ –≤—Å—ñ–π –£–∫—Ä–∞—ó–Ω—ñ</h1>
    <img id="mainImage" src="https://i.ibb.co/211q15HY/2025-03-25-171453.png" alt="Decorative Image">
    <!-- –ó–º—ñ–Ω–µ–Ω–æ: "–≤–∏–≥—Ä–µ–±–Ω–∏—Ö" ‚Üí "–≤–∏–≥—Ä—ñ–±–Ω–∏—Ö" -->
    <p id="description">
      –í–∏–∫–∞—á–∫–∞ –≤–∏–≥—Ä—ñ–±–Ω–∏—Ö —è–º, –≤–∏–∫–∞—á–∫–∞ —Å–ª–∏–≤–Ω–∏—Ö —è–º —ñ –∫–∞–Ω–∞–ª—ñ–∑–∞—Ü—ñ–π, –≤—ñ–¥–∫–∞—á–∫–∞ —Å–µ–ø—Ç–∏–∫—ñ–≤ —Ç–∞ —Ç—É–∞–ª–µ—Ç—ñ–≤.
    </p>
    <p id="boldLine">
      –ü–æ—Ç—Ä—ñ–±–µ–Ω –∞—Å–µ–Ω—ñ–∑–∞—Ç–æ—Ä?<br>
      –û–¥–∏–Ω –∫–ª—ñ–∫ ‚Äî —ñ –º–∏ –≤–∂–µ –Ω–∞ –≤–∏—ó–∑–¥—ñ!
    </p>
    
    <!-- –ö–Ω–æ–ø–∫–∏ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é -->
    <div class="buttons">
      <button class="btn" id="btnOrder">–ó–∞–º–æ–≤–∏—Ç–∏ –ø–æ—Å–ª—É–≥—É</button>
      <button class="btn" id="btnMyOrders">–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
      <button class="btn" id="btnServices">–ù–∞—à—ñ –ø–æ—Å–ª—É–≥–∏</button>
      <button class="btn" id="btnAbout">–ü—Ä–æ –∫–æ–º–ø–∞–Ω—ñ—é</button>
    </div>
  </div>
  
  <!-- –ú–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ (–ü—Ä–æ –∫–æ–º–ø–∞–Ω—ñ—é) -->
  <div class="modal-overlay" id="modalOverlayAbout">
    <div class="modal" id="modalAbout">
      <span class="modal-close" data-modal="modalOverlayAbout">&times;</span>
      <h2>–ü—Ä–æ –∫–æ–º–ø–∞–Ω—ñ—é</h2>
      <p style="text-align: justify;">
        <strong>Septic24</strong> ‚Äî —Ü–µ –Ω–∞–¥—ñ–π–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –≤–∏–∫–ª–∏–∫—É –∞—Å–µ–Ω—ñ–∑–∞—Ç–æ—Ä–∞ –ø–æ –≤—Å—ñ–π —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—ó –£–∫—Ä–∞—ó–Ω–∏.
        –ú–∏ –Ω–∞–¥–∞—î–º–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –ø–æ—Å–ª—É–≥–∏ –∑ –≤—ñ–¥–∫–∞—á—É–≤–∞–Ω–Ω—è –≤–∏–≥—Ä—ñ–±–Ω–∏—Ö —è–º, —Å–µ–ø—Ç–∏–∫—ñ–≤, –∫–∞–Ω–∞–ª—ñ–∑–∞—Ü—ñ–π —Ç–∞ –≤—É–ª–∏—á–Ω–∏—Ö —Ç—É–∞–ª–µ—Ç—ñ–≤
        —É –ö–∏—î–≤—ñ, –î–Ω—ñ–ø—Ä—ñ, –û–¥–µ—Å—ñ —Ç–∞ —ñ–Ω—à–∏—Ö –º—ñ—Å—Ç–∞—Ö. –ü—Ä–∞—Ü—é—î–º–æ —Ü—ñ–ª–æ–¥–æ–±–æ–≤–æ, –±–µ–∑ –≤–∏—Ö—ñ–¥–Ω–∏—Ö, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∫–æ–º—Ñ–æ—Ä—Ç
        —ñ —á–∏—Å—Ç–æ—Ç—É —É –≤–∞—à–æ–º—É –¥–æ–º—ñ —á–∏ –Ω–∞ –ø—ñ–¥–ø—Ä–∏—î–º—Å—Ç–≤—ñ.
      </p>
      <p style="text-align: justify; margin-top: 10px;">
        <strong>–ù–∞—à—ñ –ø–µ—Ä–µ–≤–∞–≥–∏:</strong>
      </p>
      <ul style="padding-left: 20px; margin: 0; text-align: justify;">
        <li><strong>–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è:</strong> –ú–µ–Ω–µ–¥–∂–µ—Ä–∏ –¥–æ–ø–æ–º–æ–∂—É—Ç—å –æ–±—Ä–∞—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç.</li>
        <li><strong>–ó—Ä—É—á–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:</strong> –û—Ñ–æ—Ä–º–∏—Ç–∏ –º–æ–∂–Ω–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∞–±–æ –æ–Ω–ª–∞–π–Ω.</li>
        <li><strong>–ü—ñ–¥–±—ñ—Ä —Å–ø–µ—Ü—Ç–µ—Ö–Ω—ñ–∫–∏:</strong> –í—Ä–∞—Ö–æ–≤—É—î–º–æ –æ–±‚Äô—î–º –≤–∞—à–æ—ó –≤–∏–≥—Ä—ñ–±–Ω–æ—ó —è–º–∏ —á–∏ —Å–µ–ø—Ç–∏–∫–∞.</li>
        <li><strong>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å:</strong> –®–≤–∏–¥–∫–æ —Ä–µ–∞–≥—É—î–º–æ —Ç–∞ –≤–∏–∫–æ–Ω—É—î–º–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.</li>
        <li><strong>–Ø–∫—ñ—Å—Ç—å:</strong> –ü–æ–≤–Ω–µ –≤—ñ–¥–∫–∞—á—É–≤–∞–Ω–Ω—è –≤—ñ–¥—Ö–æ–¥—ñ–≤.</li>
        <li><strong>–ü—Ä–æ–∑–æ—Ä—ñ —Ü—ñ–Ω–∏:</strong> –ë–µ–∑ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂—ñ–≤.</li>
        <li><strong>–ï–∫–æ–ª–æ–≥—ñ—á–Ω–æ:</strong> –ë–µ–∑–ø–µ—á–Ω–µ –≤–∏–≤–µ–∑–µ–Ω–Ω—è —Ç–∞ —É—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è.</li>
      </ul>
      <p style="text-align: justify; margin-top: 10px;">
        –ú–∏ –ø—Ä–∞–≥–Ω–µ–º–æ –±—É—Ç–∏ –≤–∞—à–∏–º –Ω–∞–¥—ñ–π–Ω–∏–º –ø–æ–º—ñ—á–Ω–∏–∫–æ–º —É –≤–∏—Ä—ñ—à–µ–Ω–Ω—ñ –±—É–¥—å-—è–∫–∏—Ö –ø–∏—Ç–∞–Ω—å, –ø–æ–≤‚Äô—è–∑–∞–Ω–∏—Ö —ñ–∑ –≤–∏–≤–æ–∑–æ–º —Å—Ç—ñ—á–Ω–∏—Ö –≤–æ–¥.
      </p>
    </div>
  </div>
  
  <!-- –û–∫–Ω–æ –ù–∞—à—ñ –ø–æ—Å–ª—É–≥–∏ -->
  <div class="modal-overlay" id="modalOverlayServices">
    <div class="modal" id="modalServices">
      <span class="modal-close" data-modal="modalOverlayServices">&times;</span>
      <div id="servicesSliderContainer" class="slider-container">
        <div id="servicesSlider" class="slider"></div>
      </div>
      <div style="width: 100%; display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 10px;">
         <button id="prevServiceBtn" class="btn" style="width: 80px; height: 30px;">&#8592;</button>
         <button id="nextServiceBtn" class="btn" style="width: 80px; height: 30px;">&#8594;</button>
      </div>
    </div>
  </div>
  
  <!-- –û–∫–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è -->
  <div class="modal-overlay" id="modalOverlayOrder">
    <div class="modal" id="modalOrder">
      <span class="modal-close" data-modal="modalOverlayOrder">&times;</span>
      
      <!-- –ö—Ä–æ–∫ 1: –≤–∏–±—ñ—Ä –ø–æ—Å–ª—É–≥–∏ -->
      <div id="orderStep1">
        <h2>–û–±–µ—Ä—ñ—Ç—å –ø–æ—Å–ª—É–≥—É:</h2>
        <div id="orderServicesButtons" class="buttons" style="max-width: 300px;"></div>
      </div>
      
      <!-- –ö—Ä–æ–∫ 1.5 –¥–ª—è "–ü—Ä–æ—á–∏—Å—Ç–∫–∞ —Ç—Ä—É–±": –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç—Ä—É–± -->
      <div id="orderStep1_5_tubes">
        <h4 style="font-size: 1.2rem;">–Ø–∫–∞ –¥–æ–≤–∂–∏–Ω–∞ –≤–∞—à–∏—Ö —Ç—Ä—É–± –≤ –º–µ—Ç—Ä–∞—Ö</h4>
        <input 
          type="range" 
          id="lengthRange" 
          class="big"
          min="1" 
          max="400" 
          value="1" 
          oninput="document.getElementById('lengthValue').innerHTML = this.value + ' –º';"
        >
        <div id="lengthValue" style="margin-bottom: 20px; font-size: 1.2rem;">1 –º</div>
        <h4 style="font-size: 1.2rem;">–û–±–µ—Ä—ñ—Ç—å –¥—ñ–∞–º–µ—Ç—Ä –≤–∞—à–∏—Ö —Ç—Ä—É–± –≤ –º—ñ–ª—ñ–º–µ—Ç—Ä–∞—Ö</h4>
        <input 
          type="range" 
          id="diameterRange" 
          class="big"
          min="100" 
          max="900" 
          value="100" 
          oninput="document.getElementById('diameterValue').innerHTML = this.value + ' –º–º';"
        >
        <div id="diameterValue" style="margin-bottom: 20px; font-size: 1.2rem;">100 –º–º</div>
        <button class="btn" id="tubesNextBtn">–î–∞–ª—ñ</button>
      </div>
      
      <!-- –ö—Ä–æ–∫ 1.5 –¥–ª—è —ñ–Ω—à–∏—Ö –ø–æ—Å–ª—É–≥: –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —î–º–Ω–æ—Å—Ç—ñ -->
      <div id="orderStep1_5_capacity">
        <h4 style="font-size: 1.2rem;">–Ø–∫–∏–π –æ–±'—î–º –≤–∞—à–æ—ó —î–º–Ω–æ—Å—Ç—ñ –≤ –∫—É–±–∞—Ö?</h4>
        <input 
          type="range" 
          id="volumeRange" 
          class="big"
          min="1" 
          max="25" 
          value="1" 
          oninput="document.getElementById('volumeValue').innerHTML = this.value + ' –º<sup>3</sup>';"
        >
        <div id="volumeValue" style="margin-bottom: 20px; font-size: 1.2rem;">1 –º<sup>3</sup></div>
        <h4 style="font-size: 1.2rem;">–í—ñ–¥—Å—Ç–∞–Ω—å –≤—ñ–¥ –ø–∞—Ä–∫–æ–≤–∫–∏ –¥–æ —î–º–Ω–æ—Å—Ç—ñ</h4>
        <input 
          type="range" 
          id="distanceRange" 
          class="big"
          min="1" 
          max="70" 
          value="1" 
          oninput="document.getElementById('distanceValue').innerHTML = this.value + ' –º';"
        >
        <div id="distanceValue" style="margin-bottom: 20px; font-size: 1.2rem;">1 –º</div>
        <button class="btn" id="capacityNextBtn">–î–∞–ª—ñ</button>
      </div>
      
      <!-- –ö—Ä–æ–∫ 2: –≤–∏–±—ñ—Ä –æ–±–ª–∞—Å—Ç—ñ -->
      <div id="orderStep2" style="display: none; position: relative;">
        <div id="orderStep2Header" style="display: flex; justify-content: center; align-items: center; padding: 5px 0; margin-top: 0;">
          <h3 style="margin: 0; font-size: 1rem;">–û–±–µ—Ä—ñ—Ç—å –æ–±–ª–∞—Å—Ç—å:</h3>
        </div>
        <div id="regionButtons"></div>
      </div>
    </div>
  </div>
  
  <!-- –û–∫–Ω–æ –∫–∞—Ä—Ç–∏ -->
  <div class="modal-overlay" id="modalOverlayMap">
    <div class="modal" id="modalMap">
      <span class="modal-close" data-modal="modalOverlayMap">&times;</span>
      <p class="address-label">–í–∫–∞–∂—ñ—Ç—å –≤–∞—à—É –∞–¥—Ä–µ—Å—É:</p>
      <div class="address-search-wrap">
        <input type="text" id="addressInput" placeholder="( –ú—ñ—Å—Ç–æ , –≤—É–ª–∏—Ü—è , –Ω–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É )">
        <button id="searchAddressBtn">–ü–æ—à—É–∫</button>
      </div>
      
      <p class="address-label" style="position: relative;">
        –ê–±–æ –ø–æ–∑–Ω–∞—á—Ç–µ –º—ñ—Å—Ü–µ –ø–æ–¥–∞—á—ñ –∞—Å–µ–Ω—ñ–∑–∞—Ç–æ—Ä–∞ –Ω–∞ –∫–∞—Ä—Ç—ñ:
      </p>
      
      <div id="olMap"></div>
      
      <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–Ω–æ–ø–∫–∏ –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º –≤—ñ–¥—Å—Ç—É–ø–æ–º -->
      <button class="btn" id="getGeoBtn" style="display:block; margin-bottom:10px;">–ú–æ—è –≥–µ–æ–ø–æ–∑–∏—Ü—ñ—è</button>
      <button class="btn" id="cancelLocationBtn" style="display:none; margin-bottom:10px;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
      <button class="btn" id="confirmLocationBtn" style="display:block;">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
      
      <div id="mapLoader">
        <div class="spinner"></div>
      </div>
    </div>
  </div>
  
  <!-- –û–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥—É —ñ–º–µ–Ω—ñ —Ç–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É -->
  <div class="modal-overlay" id="modalOverlayUserData">
    <div class="modal-user-data" style="max-width: 300px;" id="modalUserData">
      <h3 style="font-size:1.5rem;">–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É, —ñ –º–∏ —à–≤–∏–¥–∫–æ –∑–≤'—è–∂–µ–º–æ—Å—å –∑ –í–∞–º–∏</h3>
      <input type="text" id="userName" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º'—è">
      <input type="text" id="userPhone" value="" placeholder="+38 (___)___-__-__">
      <button class="btn" id="confirmOrderBtn" style="margin-top:20px;">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞—è–≤–∫—É</button>
    </div>
  </div>
  
  <!-- –ù–æ–≤–µ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è "–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" -->
  <div class="modal-overlay" id="modalOverlayMyOrders">
    <div class="modal" id="modalMyOrders">
      <span class="modal-close" data-modal="modalOverlayMyOrders">&times;</span>
      <h2>–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
      <div id="myOrdersContainer" style="max-height: 400px; overflow-y: auto; margin-top: 10px;"></div>
    </div>
  </div>
  
  <!-- OpenLayers JS -->
  <script src="https://cdn.jsdelivr.net/npm/ol@7.3.0/dist/ol.js"></script>
  <script>
    // –û—Ç—Ä–∏–º–∞–Ω–Ω—è user_id –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ URL (–ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –∑ /start)
    const webUserId = (function() {
      const params = new URLSearchParams(window.location.search);
      return params.get('user_id');
    })();

    
    // ====================== –ù–ê–°–¢–†–û–ô–ö–ò ===========================
    const BOT_TOKEN = "7526376768:AAEX-zUQxObbLD5osWAF2Q0ieWP9yvoKBu4";
    const CHAT_ID  = "5920866016";
    // const BOT_TOKEN = "5260617811:AAFMZpfjWlTBXu0tSlvmXRantlWryHn944Y";
    // const CHAT_ID  = "1898716782";
    // ============================================================
    
    let selectedRegion = "";
    let selectedCoordinates = null;  
    let userAddress = "";            
    let userName = "";               
    let userPhone = "";              
    let selectedOrderServiceIndex = null;
    
    const servicesData = [
      { 
        title: "–í–∏–∫–∞—á–∫–∞ –≤–∏–≥—Ä—ñ–±–Ω–∏—Ö —è–º", 
        image: "https://i.ibb.co/XkpD4t4K/uslugi-assenizatora-ukraina-1.jpg",
        description: "–ù–∞—à —Å–µ—Ä–≤—ñ—Å –∑–∞–±–µ–∑–ø–µ—á—É—î —à–≤–∏–¥–∫–µ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—ñ–¥—Ö–æ–¥—ñ–≤. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å—É—á–∞—Å–Ω—É —Ç–µ—Ö–Ω—ñ–∫—É –¥–ª—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–∫–∞—á—É–≤–∞–Ω–Ω—è —Ç–∞ —É—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –≤–∏—Å–æ–∫—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏ –±–µ–∑–ø–µ–∫–∏. –ú–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–µ–∞–≥—É—î–º–æ –Ω–∞ –≤–∏–∫–ª–∏–∫–∏ —Ç–∞ –≥–∞—Ä–∞–Ω—Ç—É—î–º–æ —è–∫—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±—ñ—Ç."
      },
      { 
        title: "–í–∏–∫–∞—á–∫–∞ –º—É–ª—É —á–∏ –ø—ñ—Å–∫—É", 
        image: "https://i.ibb.co/0jXSDFm3/uslugi-assenizatora-ukraina-3.jpg",
        description: "–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –≤–∏–∫–∞—á–∫–∞ –º—É–ª—É —Ç–∞ –ø—ñ—Å–∫—É –¥–ª—è –µ–∫—Å—Ç—Ä–µ–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π. –ì–∞—Ä–∞–Ω—Ç—É—î–º–æ –±–µ–∑–ø–µ—á–Ω–µ —É—Ç–∏–ª—ñ–∑—É–≤–∞–Ω–Ω—è –∑–∞ —Å—É—á–∞—Å–Ω–∏–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏. –ù–∞—à —Å–µ—Ä–≤—ñ—Å –¥–æ—Å—Ç—É–ø–Ω–∏–π 24/7 –¥–ª—è –µ–∫—Å—Ç—Ä–µ–Ω–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤."
      },
      { 
        title: "–í–∏–∫–∞—á–∫–∞ —Å–µ–ø—Ç–∏–∫–∞", 
        image: "https://i.ibb.co/B53zkz3t/uslugi-assenizatora-ukraina-6.jpg",
        description: "–ü–æ—Å–ª—É–≥–∏ –∑ –≤–∏–∫–∞—á—É–≤–∞–Ω–Ω—è —Å–µ–ø—Ç–∏–∫—ñ–≤ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –ø–æ–≤–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—ñ–¥—Ö–æ–¥—ñ–≤ –∑ —É—Å—ñ—Ö —Ç–∏–ø—ñ–≤ —Å–µ–ø—Ç–∏–∫—ñ–≤. –ü—Ä–∞—Ü—é—î–º–æ –∞–∫—É—Ä–∞—Ç–Ω–æ —Ç–∞ —à–≤–∏–¥–∫–æ. –ì–∞—Ä–∞–Ω—Ç—É—î–º–æ —á–∏—Å—Ç–æ—Ç—É —Ç–∞ –±–µ–∑–ø–µ–∫—É –¥–ª—è –≤–∞—à–æ–≥–æ –±—É–¥–∏–Ω–∫—É —á–∏ –ø—ñ–¥–ø—Ä–∏—î–º—Å—Ç–≤–∞."
      },
      { 
        title: "–ü—Ä–æ—á–∏—Å—Ç–∫–∞ —Ç—Ä—É–±", 
        image: "https://i.ibb.co/Q7y9Fk3h/uslugi-assenizatora-ukraina-5.jpg",
        description: "–ú–∏ –ø—Ä–æ–ø–æ–Ω—É—î–º–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è —Ç–∞ –ø—Ä–æ—á–∏—Å—Ç–∫—É —Ç—Ä—É–±. –®–≤–∏–¥–∫–æ –≤–∏—Ä—ñ—à—É—î–º–æ –ø—Ä–æ–±–ª–µ–º–∏ —ñ–∑ –∑–∞—Å–º—ñ—á–µ–Ω–Ω—è–º–∏ —Ç–∞ –∑–∞–ø–æ–±—ñ–≥–∞—î–º–æ –∞–≤–∞—Ä—è–º. –ù–∞—à—ñ —Ñ–∞—Ö—ñ–≤—Ü—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ —É—Å—ñ–º–∞ —Ç–∏–ø–∞–º–∏ —Å–∏—Å—Ç–µ–º, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ —Ç—Ä–∏–≤–∞–ª—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å."
      },
      { 
        title: "–í–∏–∫–∞—á–∫–∞ —Ç—É–∞–ª–µ—Ç—É", 
        image: "https://i.ibb.co/TMm1sd9g/uslugi-assenizatora-ukraina-4.jpg",
        description: "–®–≤–∏–¥–∫–∞ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –≤–∏–∫–∞—á–∫–∞ —Ç—É–∞–ª–µ—Ç—É. –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ —á–∏—Å—Ç–æ—Ç—É –Ω–∞–≤—ñ—Ç—å —É –≤–∞–∂–∫–æ–¥–æ—Å—Ç—É–ø–Ω–∏—Ö –º—ñ—Å—Ü—è—Ö –∑–∞–≤–¥—è–∫–∏ —Å—É—á–∞—Å–Ω–∏–º —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è–º. –ú–∏ –∑–∞–±–µ–∑–ø–µ—á—É—î–º–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∑ –≥–∞—Ä–∞–Ω—Ç—ñ—î—é —è–∫–æ—Å—Ç—ñ, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –º—ñ—Å—Ü–µ–≤–æ—Å—Ç—ñ."
      }
    ];
    
    const serviceIcons = [
      "https://i.ibb.co/1fGhMSqD/2025-03-23-133319.png",
      "https://i.ibb.co/9mrr2QFZ/2025-03-23-133538.png",
      "https://i.ibb.co/67VYSMV9/image.png",
      "https://i.ibb.co/VYV63PBB/image.png",
      "https://i.ibb.co/YBpdPJy7/2025-03-23-132948.png"
    ];
    
    const regions = [
      "–í—ñ–Ω–Ω–∏—Ü—å–∫–∞", "–í–æ–ª–∏–Ω—Å—å–∫–∞", "–î–Ω—ñ–ø—Ä–æ–ø–µ—Ç—Ä–æ–≤—Å—å–∫–∞", "–î–æ–Ω–µ—Ü—å–∫–∞", "–ñ–∏—Ç–æ–º–∏—Ä—Å—å–∫–∞", "–ó–∞–∫–∞—Ä–ø–∞—Ç—Å—å–∫–∞",
      "–ó–∞–ø–æ—Ä—ñ–∑—å–∫–∞", "–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫–∞", "–ö–∏—ó–≤—Å—å–∫–∞", "–ö—ñ—Ä–æ–≤–æ–≥—Ä–∞–¥—Å—å–∫–∞", "–õ—É–≥–∞–Ω—Å—å–∫–∞", "–õ—å–≤—ñ–≤—Å—å–∫–∞",
      "–ú–∏–∫–æ–ª–∞—ó–≤—Å—å–∫–∞", "–û–¥–µ—Å—å–∫–∞", "–ü–æ–ª—Ç–∞–≤—Å—å–∫–∞", "–†—ñ–≤–Ω–µ–Ω—Å—å–∫–∞", "–°—É–º—Å—å–∫–∞", "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å—Å—å–∫–∞",
      "–•–∞—Ä–∫—ñ–≤—Å—å–∫–∞", "–•–µ—Ä—Å–æ–Ω—Å—å–∫–∞", "–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∞", "–ß–µ—Ä–∫–∞—Å—å–∫–∞", "–ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–∞", "–ß–µ—Ä–Ω—ñ–≥—ñ–≤—Å—å–∫–∞"
    ];
    
    const regionCenters = {
      "–í—ñ–Ω–Ω–∏—Ü—å–∫–∞": [28.48, 49.23],
      "–í–æ–ª–∏–Ω—Å—å–∫–∞": [25.35, 50.74],
      "–î–Ω—ñ–ø—Ä–æ–ø–µ—Ç—Ä–æ–≤—Å—å–∫–∞": [35.04, 48.46],
      "–î–æ–Ω–µ—Ü—å–∫–∞": [37.80, 48.01],
      "–ñ–∏—Ç–æ–º–∏—Ä—Å—å–∫–∞": [28.66, 50.27],
      "–ó–∞–∫–∞—Ä–ø–∞—Ç—Å—å–∫–∞": [22.30, 48.62],
      "–ó–∞–ø–æ—Ä—ñ–∑—å–∫–∞": [35.14, 47.84],
      "–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫–∞": [24.72, 48.92],
      "–ö–∏—ó–≤—Å—å–∫–∞": [30.52, 50.45],
      "–ö—ñ—Ä–æ–≤–æ–≥—Ä–∞–¥—Å—å–∫–∞": [32.26, 48.51],
      "–õ—É–≥–∞–Ω—Å—å–∫–∞": [39.00, 48.57],
      "–õ—å–≤—ñ–≤—Å—å–∫–∞": [24.03, 49.84],
      "–ú–∏–∫–æ–ª–∞—ó–≤—Å—å–∫–∞": [32.00, 46.98],
      "–û–¥–µ—Å—å–∫–∞": [30.73, 46.48],
      "–ü–æ–ª—Ç–∞–≤—Å—å–∫–∞": [32.50, 49.59],
      "–†—ñ–≤–Ω–µ–Ω—Å—å–∫–∞": [26.25, 50.62],
      "–°—É–º—Å—å–∫–∞": [34.80, 50.90],
      "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å—Å—å–∫–∞": [25.68, 49.55],
      "–•–∞—Ä–∫—ñ–≤—Å—å–∫–∞": [36.26, 49.98],
      "–•–µ—Ä—Å–æ–Ω—Å—å–∫–∞": [32.62, 46.65],
      "–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∞": [26.93, 49.42],
      "–ß–µ—Ä–∫–∞—Å—å–∫–∞": [32.06, 49.44],
      "–ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–∞": [25.94, 48.29],
      "–ß–µ—Ä–Ω—ñ–≥—ñ–≤—Å—å–∫–∞": [31.29, 51.50]
    };
    
    let servicesSliderContainer, servicesSlider;
    let currentServiceIndex = 0, startX = 0, isDragging = false;
    
    let map, markerSource, mapInitialized = false;
    
    document.addEventListener('DOMContentLoaded', () => {
      // –ë—ñ–ª—å—à–µ –Ω–µ –æ–±–Ω—É–ª—è—î–º–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –Ω–æ–º–µ—Ä–∏ —Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è,
      // —â–æ–± –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ –ø—ñ—Å–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.
      
      setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        document.body.classList.add('loaded');
        document.querySelector('.container').style.display = 'flex';
        animateElements();
        initSlider();
      }, 5000);
      
      document.getElementById('btnAbout').addEventListener('click', () => { openModal('modalOverlayAbout'); });
      document.getElementById('btnServices').addEventListener('click', () => { 
        openModal('modalOverlayServices'); 
        currentServiceIndex = 0; 
        updateServicesSlider(); 
      });
      document.getElementById('btnOrder').addEventListener('click', () => { 
        openModal('modalOverlayOrder'); 
        renderOrderServices(); 
      });
      document.getElementById('btnMyOrders').addEventListener('click', () => {
        openModal('modalOverlayMyOrders');
        renderMyOrders();
      });
      
      document.querySelectorAll('.modal-close').forEach(btn => {
        btn.addEventListener('click', (e) => { 
          const modalId = e.target.getAttribute('data-modal'); 
          closeModal(modalId); 
        });
      });
      document.querySelectorAll('.modal-overlay').forEach(overlay => {
        overlay.addEventListener('click', (e) => { 
          if(e.target === overlay) { 
            closeModal(overlay.id); 
          }
        });
      });
      
      document.getElementById('tubesNextBtn').addEventListener('click', () => {
        document.getElementById('orderStep1_5_tubes').style.display = 'none';
        document.getElementById('orderStep2').style.display = 'block';
        renderRegionButtons();
      });
      document.getElementById('capacityNextBtn').addEventListener('click', () => {
        document.getElementById('orderStep1_5_capacity').style.display = 'none';
        document.getElementById('orderStep2').style.display = 'block';
        renderRegionButtons();
      });
      
      document.getElementById('confirmLocationBtn').addEventListener('click', confirmMap);
      document.getElementById('cancelLocationBtn').addEventListener('click', cancelMarker);
      
      document.getElementById('confirmOrderBtn').addEventListener('click', confirmUserData);
      
      document.getElementById('addressInput').addEventListener('change', (e) => {
        const address = e.target.value.trim();
        if(address) {
          geocodeAddress(address);
        }
      });
      document.getElementById('addressInput').addEventListener('keydown', (e) => {
        if(e.key === "Enter") {
          const address = e.target.value.trim();
          if(address) {
            geocodeAddress(address);
          }
        }
      });
      document.getElementById('searchAddressBtn').addEventListener('click', () => {
        const address = document.getElementById('addressInput').value.trim();
        if(address) {
          openModal('modalOverlayMap');
          geocodeAddress(address);
        }
      });
      
      document.getElementById('prevServiceBtn').addEventListener('click', () => {
        if(currentServiceIndex > 0) {
          currentServiceIndex--;
          updateServicesSlider();
        }
      });
      document.getElementById('nextServiceBtn').addEventListener('click', () => {
        if(currentServiceIndex < servicesData.length - 1) {
          currentServiceIndex++;
          updateServicesSlider();
        }
      });
      
      document.getElementById('getGeoBtn').addEventListener('click', () => {
        requestUserLocation();
      });
      
      const phoneInput = document.getElementById('userPhone');
      IMask(
        document.getElementById('userPhone'),
        {
            mask: '+{38} (000)000-00-00'
        }
      )
      /*function formatPhone() {
          let digits = phoneInput.value.replace(/\D/g, '');
          if(digits.startsWith("38")) {
              digits = digits.substring(2);
          }
          digits = digits.substring(0, 10);
          let formatted = "+38 ("; 
          formatted += digits.substring(0, 3).padEnd(3, "_");
          formatted += ")";
          formatted += digits.substring(3, 6).padEnd(3, "_");
          formatted += "-";
          formatted += digits.substring(6, 8).padEnd(2, "_");
          formatted += "-";
          formatted += digits.substring(8, 10).padEnd(2, "_");
          phoneInput.value = formatted;
      }*/
      //phoneInput.addEventListener('input', formatPhone);
      /*phoneInput.addEventListener('keydown', function(e) {
          const fixedLength = 5;
          if ((e.key === 'Backspace' || e.key === 'Delete') && phoneInput.selectionStart < fixedLength) {
              e.preventDefault();
          }
      });*/
    });
    
    function requestUserLocation() {
      if (!navigator.geolocation) {
        alert("–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º.");
        return;
      }
      
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;
          if(map) {
            map.getView().setCenter(ol.proj.fromLonLat([lon, lat]));
            map.getView().setZoom(10);
          }
          if(markerSource) {
            markerSource.clear();
            const markerFeature = new ol.Feature({
              geometry: new ol.geom.Point(ol.proj.fromLonLat([lon, lat]))
            });
            markerFeature.setStyle(new ol.style.Style({
              image: new ol.style.Icon({
                anchor: [0.5, 1],
                src: 'https://cdn-icons-png.flaticon.com/512/2776/2776067.png',
                scale: 0.05
              })
            }));
            markerSource.addFeature(markerFeature);
            selectedCoordinates = { x: lon, y: lat };
            reverseGeocode(lat, lon);
          }
        },
        (error) => {
          if (error.code === error.PERMISSION_DENIED) {
            if (confirm("–í–∏ –≤—ñ–¥—Ö–∏–ª–∏–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑?")) {
              requestUserLocation();
            } else {
              alert("–î–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –í–∞—à–æ—ó –ø–æ–∑–∏—Ü—ñ—ó, –±—É–¥—å –ª–∞—Å–∫–∞, –¥–æ–∑–≤–æ–ª—å—Ç–µ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –±—Ä–∞—É–∑–µ—Ä–∞.");
            }
          } else {
            alert("–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é: " + error.message);
          }
        },
        {
          enableHighAccuracy: true,
          timeout: 10000,
          maximumAge: 0
        }
      );
    }

    function reverseGeocode(lat, lon) {
      fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=18&addressdetails=1`)
      .then(response => response.json())
      .then(data => {
        if(data && data.display_name) {
          document.getElementById('addressInput').value = data.display_name;
        }
      })
      .catch(error => {
        console.error("Reverse geocoding error:", error);
      });
    }
    
    function animateElements() {
      document.getElementById('title').classList.add('animate');
      document.getElementById('description').classList.add('animate');
      document.getElementById('boldLine').classList.add('animate');
    }
    
    function initSlider() {
      servicesSliderContainer = document.getElementById('servicesSliderContainer');
      servicesSlider = document.getElementById('servicesSlider');
      renderServicesSlider();
      servicesSliderContainer.addEventListener('touchstart', handleTouchStart);
      servicesSliderContainer.addEventListener('touchmove', handleTouchMove);
      servicesSliderContainer.addEventListener('touchend', handleTouchEnd);
    }
    function renderServicesSlider() {
      currentServiceIndex = 0;
      servicesSlider.innerHTML = "";
      servicesData.forEach(service => {
        const card = document.createElement('div');
        card.className = 'service-card';
        card.innerHTML = 
          `<h3>${service.title.replace("–≤–∏–≥—Ä–µ–±–Ω–∏—Ö", "–≤–∏–≥—Ä—ñ–±–Ω–∏—Ö")}</h3>
          <img src="${service.image}" alt="${service.title}">
          <p>${service.description}</p>`;
        servicesSlider.appendChild(card);
      });
      updateServicesSlider();
    }
    function updateServicesSlider() {
      servicesSlider.style.transform = `translateX(${-currentServiceIndex * servicesSliderContainer.clientWidth}px)`;
    }
    function handleTouchStart(e) {
      startX = e.touches[0].clientX;
      isDragging = true;
    }
    function handleTouchMove(e) {
      if(!isDragging) return;
      const currentX = e.touches[0].clientX;
      const dx = currentX - startX;
      servicesSlider.style.transform = `translateX(${-currentServiceIndex * servicesSliderContainer.clientWidth + dx}px)`;
    }
    function handleTouchEnd(e) {
      isDragging = false;
      const endX = e.changedTouches[0].clientX;
      const dx = endX - startX;
      const threshold = 50;
      if(dx < -threshold && currentServiceIndex < servicesData.length - 1) { 
        currentServiceIndex++; 
      }
      else if(dx > threshold && currentServiceIndex > 0) { 
        currentServiceIndex--; 
      }
      updateServicesSlider();
    }
    
    function renderOrderServices() {
      const container = document.getElementById('orderServicesButtons');
      container.innerHTML = "";
      servicesData.forEach((service, index) => {
        const btn = document.createElement('button');
        btn.className = 'btn';
        const btnText = service.title.replace("–≤–∏–≥—Ä–µ–±–Ω–∏—Ö", "–≤–∏–≥—Ä—ñ–±–Ω–∏—Ö");
        let iconWidth = (index === 0) ? "45px" : (index === 4 ? "18px" : "30px");
        let iconMarginLeft = (index === 0) ? "25px" : (index === 4 ? "22px" : "30px");
        btn.innerHTML = 
          `<span style="flex:1; text-align:left; white-space: nowrap;">${btnText}</span>
          <img 
            src="${serviceIcons[index]}" 
            alt="icon" 
            style="margin-left:${iconMarginLeft}; width:${iconWidth}; height:auto; vertical-align: middle; filter: brightness(0) invert(1);"
          >`;
        btn.addEventListener('click', () => {
          selectedOrderServiceIndex = index;
          document.getElementById('orderStep1').style.display = 'none';
          if(index === 3){
             document.getElementById('orderStep1_5_tubes').style.display = 'block';
          } else {
             document.getElementById('orderStep1_5_capacity').style.display = 'block';
          }
        });
        container.appendChild(btn);
      });
    }
    
    function openModal(modalId) {
      const modalOverlay = document.getElementById(modalId);
      if(!modalOverlay) return;
      modalOverlay.classList.add('active');
      const modal = modalOverlay.querySelector('.modal') || modalOverlay.querySelector('.modal-user-data');
      setTimeout(() => { 
        if(modal) modal.classList.add('active'); 
        if(modalId === 'modalOverlayMap' && map) {
          document.getElementById('confirmLocationBtn').style.display = 'block';
        }
      }, 10);
    }
    function closeModal(modalId) {
      const modalOverlay = document.getElementById(modalId);
      if(!modalOverlay) return;
      const modal = modalOverlay.querySelector('.modal') || modalOverlay.querySelector('.modal-user-data');
      if(modal) modal.classList.remove('active');
      setTimeout(() => { 
        modalOverlay.classList.remove('active'); 
      }, 500);
      if(modalId === 'modalOverlayOrder'){
        resetOrderModal();
      }
    }
    
    function resetOrderModal() {
      document.getElementById('orderStep1').style.display = 'block';
      document.getElementById('orderStep1_5_tubes').style.display = 'none';
      document.getElementById('orderStep1_5_capacity').style.display = 'none';
      document.getElementById('orderStep2').style.display = 'none';
    }
    
    function initMap() {
      if (!mapInitialized) {
        markerSource = new ol.source.Vector();
        const markerLayer = new ol.layer.Vector({ source: markerSource });
        
        map = new ol.Map({
          target: 'olMap',
          layers: [
            new ol.layer.Tile({ source: new ol.source.OSM() }),
            markerLayer
          ],
          view: new ol.View({
            center: ol.proj.fromLonLat([31.1656, 48.3794]),
            zoom: 6
          })
        });
        
        map.on('click', function(evt) {
          const coords = ol.proj.toLonLat(evt.coordinate);
          markerSource.clear();
          const markerFeature = new ol.Feature({
            geometry: new ol.geom.Point(ol.proj.fromLonLat(coords))
          });
          markerFeature.setStyle(new ol.style.Style({
            image: new ol.style.Icon({
              anchor: [0.5, 1],
              src: 'https://cdn-icons-png.flaticon.com/512/2776/2776067.png',
              scale: 0.05
            })
          }));
          markerSource.addFeature(markerFeature);
          selectedCoordinates = { x: coords[0], y: coords[1] };
          reverseGeocode(coords[1], coords[0]);
          document.getElementById('cancelLocationBtn').style.display = 'block';
        });
        
        mapInitialized = true;
      }
    }
    
    function renderRegionButtons() {
      const container = document.getElementById('regionButtons');
      container.innerHTML = "";
      regions.forEach(region => {
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.textContent = region;
        btn.addEventListener('click', () => {
          document.getElementById('orderStep2').style.display = 'none';
          selectedRegion = region;
          closeModal('modalOverlayOrder');
          openModal('modalOverlayMap');
          initMap();
          let coords = regionCenters[region] || [31.1656, 48.3794];
          if(map) {
            map.getView().setCenter(ol.proj.fromLonLat(coords));
            map.getView().setZoom(8);
            map.updateSize();
          }
        });
        container.appendChild(btn);
      });
    }
    
    function cancelMarker() {
      markerSource.clear();
      selectedCoordinates = null;
      document.getElementById('cancelLocationBtn').style.display = 'none';
    }
    
    function confirmMap() {
      const address = document.getElementById('addressInput').value.trim();
      if(!address) {
        alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –∞–¥—Ä–µ—Å—É!");
        return;
      }
      userAddress = address;
      
      if(!selectedCoordinates && map) {
         let center = ol.proj.toLonLat(map.getView().getCenter());
         selectedCoordinates = { x: center[0], y: center[1] };
      }
      
      const loader = document.getElementById('loader');
      loader.style.display = 'flex';
      loader.style.background = 'rgba(255,255,255,0.8)';
      
      setTimeout(() => {
          loader.style.display = 'none';
          loader.style.background = 'linear-gradient(135deg, #f0f9ff, #d0e8ff)';
          
          closeModal('modalOverlayMap');
          document.getElementById('confirmLocationBtn').style.display = 'block';
          document.getElementById('cancelLocationBtn').style.display = 'none';
          
          openModal('modalOverlayUserData');
      }, 2000);
    }
    
    function geocodeAddress(address) {
      initMap();
      fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}&countrycodes=ua&limit=1`)
        .then(response => response.json())
        .then(data => {
          if(data && data.length > 0) {
            const result = data[0];
            const lon = parseFloat(result.lon);
            const lat = parseFloat(result.lat);
            if(map) {
              map.getView().setCenter(ol.proj.fromLonLat([lon, lat]));
              map.getView().setZoom(10);
            }
            if(markerSource) {
              markerSource.clear();
              const markerFeature = new ol.Feature({
                geometry: new ol.geom.Point(ol.proj.fromLonLat([lon, lat]))
              });
              markerFeature.setStyle(new ol.style.Style({
                image: new ol.style.Icon({
                  anchor: [0.5, 1],
                  src: 'https://cdn-icons-png.flaticon.com/512/2776/2776067.png',
                  scale: 0.05
                })
              }));
              markerSource.addFeature(markerFeature);
              selectedCoordinates = { x: lon, y: lat };
              document.getElementById('addressInput').value = result.display_name;
            }
          } else {
            alert("–ú—ñ—Å—Ç–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, —Å–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à–∏–π –∑–∞–ø–∏—Ç.");
          }
        })
        .catch(error => {
          console.error("Geocoding error:", error);
          alert("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≥–µ–æ–∫–æ–¥—É–≤–∞–Ω–Ω—ñ –∞–¥—Ä–µ—Å–∏.");
        });
    }
    
    // –ü—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –Ω–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥ 1 –¥–æ 5
    function confirmUserData() {
      const nameInput = document.getElementById('userName');
      const phoneInput = document.getElementById('userPhone');
      if(!nameInput.value.trim() || !phoneInput.value.trim()) {
        alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —ñ–º'—è —Ç–∞ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É!");
        return;
      }
      userName = nameInput.value.trim();
      userPhone = phoneInput.value.trim();
      
      if(!/^\+38 \(\d{3}\)\d{3}-\d{2}-\d{2}$/.test(userPhone)) {
        alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –¥—ñ–π—Å–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É (—Ñ–æ—Ä–º–∞—Ç +38 (XXX)XXX-XX-XX)");
        return;
      }
      
      const loader = document.getElementById('loader');
      loader.style.display = 'flex';
      loader.style.background = 'rgba(255,255,255,0.8)';
      
      setTimeout(() => {
          loader.style.display = 'none';
          loader.style.background = 'linear-gradient(135deg, #f0f9ff, #d0e8ff)';
          
          closeModal('modalOverlayUserData');
          
          // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –Ω–æ–º–µ—Ä–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥ 1 –¥–æ 5
          let orderNumber = parseInt(localStorage.getItem('orderNumber') || "0", 10);
          orderNumber = (orderNumber % 5) + 1;
          localStorage.setItem('orderNumber', orderNumber);
          
          let finalMsg = "";
          finalMsg += "–Ü–º'—è: " + userName + "\n";
          finalMsg += "–¢–µ–ª–µ—Ñ–æ–Ω: " + userPhone + "\n";
          finalMsg += "–û–±–ª–∞—Å—Ç—å: " + selectedRegion + "\n";
          finalMsg += "–ê–¥—Ä–µ—Å–∞: " + userAddress + "\n";
          if(selectedOrderServiceIndex !== null) {
            finalMsg += "–ü–æ—Å–ª—É–≥–∞: " + servicesData[selectedOrderServiceIndex].title.replace("–≤–∏–≥—Ä–µ–±–Ω–∏—Ö", "–≤–∏–≥—Ä—ñ–±–Ω–∏—Ö") + "\n";
            if(selectedOrderServiceIndex === 3){
              finalMsg += "–î–æ–≤–∂–∏–Ω–∞ —Ç—Ä—É–±: " + document.getElementById('lengthRange').value + " –º\n";
              finalMsg += "–î—ñ–∞–º–µ—Ç—Ä —Ç—Ä—É–±: " + document.getElementById('diameterRange').value + " –º–º\n";
            } else {
              finalMsg += "–û–±'—î–º —î–º–Ω–æ—Å—Ç—ñ: " + document.getElementById('volumeRange').value + " –º¬≥\n";
              finalMsg += "–í—ñ–¥—Å—Ç–∞–Ω—å –≤—ñ–¥ –ø–∞—Ä–∫–æ–≤–∫–∏ –¥–æ —î–º–Ω–æ—Å—Ç—ñ: " + document.getElementById('distanceRange').value + " –º\n";
            }
          }
          if(selectedCoordinates) {
             finalMsg += "–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è: " + selectedCoordinates.y.toFixed(5) + ", " + selectedCoordinates.x.toFixed(5) + "\n";
             finalMsg += "OpenStreetMap: https://www.openstreetmap.org/?mlat=" + selectedCoordinates.y + "&mlon=" + selectedCoordinates.x + "\n";
          }
          if (webUserId) {
            finalMsg += "UserID: " + webUserId + "\n";
          }

          let finalMsg_admin = " ü§ñ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥ –±–æ—Ç–∞ üåä";
          finalMsg_admin += " üìá –Ü–º'—è: " + userName + "\n";
          finalMsg_admin += "üìû–¢–µ–ª–µ—Ñ–æ–Ω: " + userPhone + "\n";
          finalMsg_admin += " üìç –û–±–ª–∞—Å—Ç—å : " + selectedRegion + "\n";
          finalMsg_admin += "–ê–¥—Ä–µ—Å–∞: " + userAddress + "\n";
          if(selectedOrderServiceIndex !== null) {
            finalMsg_admin += "–ü–æ—Å–ª—É–≥–∞: " + servicesData[selectedOrderServiceIndex].title.replace("–≤–∏–≥—Ä–µ–±–Ω–∏—Ö", "–≤–∏–≥—Ä—ñ–±–Ω–∏—Ö") + "\n";
            if(selectedOrderServiceIndex === 3){
              finalMsg_admin += "–î–æ–≤–∂–∏–Ω–∞ —Ç—Ä—É–±: " + document.getElementById('lengthRange').value + " –º\n";
              finalMsg_admin += "–î—ñ–∞–º–µ—Ç—Ä —Ç—Ä—É–±: " + document.getElementById('diameterRange').value + " –º–º\n";
            } else {
              finalMsg_admin += "–û–±'—î–º —î–º–Ω–æ—Å—Ç—ñ: " + document.getElementById('volumeRange').value + " –º¬≥\n";
              finalMsg_admin += "–í—ñ–¥—Å—Ç–∞–Ω—å –≤—ñ–¥ –ø–∞—Ä–∫–æ–≤–∫–∏ –¥–æ —î–º–Ω–æ—Å—Ç—ñ: " + document.getElementById('distanceRange').value + " –º\n";
            }
          }
          if(selectedCoordinates) {
             finalMsg_admin += "–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è: " + selectedCoordinates.y.toFixed(5) + ", " + selectedCoordinates.x.toFixed(5) + "\n";
             finalMsg_admin += " üìç–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è: https://www.openstreetmap.org/?mlat=" + selectedCoordinates.y + "&mlon=" + selectedCoordinates.x + "\n";
          }
          if (webUserId) {
            finalMsg_admin += " üÜî UserID: " + webUserId + "\n";
          }
          
          // –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
          fetch("/save_order", {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({ order: finalMsg })
          })
          .then(response => response.json().catch(() => ({status: "ok"})))
          .then(data => {
            console.log("Order saved:", data);
          })
          .catch(error => {
            console.error("Error saving order:", error);
          });
          
          // –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—É —á–µ—Ä–µ–∑ Telegram
          fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
              method: "POST",
              headers: {
                "Content-Type": "application/json"
              },
              body: JSON.stringify({
                   // chat_id: CHAT_ID,
                  chat_id: "-1002028553575",
                  text: finalMsg_admin
              })
          })
          .then(response => response.json().catch(() => ({})))
          .then(data => {
              console.log("Order sent to Telegram:", data);
              let bonusText = "";
              if(orderNumber === 5) {
                  bonusText = "–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è 5/5 –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –û—á—ñ–∫—É–π—Ç–µ –Ω–∞ –¥–∑–≤—ñ–Ω–æ–∫. üìû\n\nüéâ –ó–∞ –∫–æ–∂–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ 2% –∑–Ω–∏–∂–∫—É, –∞ –∫–æ–∂–Ω–µ 5‚Äë—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äì 10% –∑–Ω–∏–∂–∫—É!";
              } else {
                  bonusText = `–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ${orderNumber}/5 –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –û—á—ñ–∫—É–π—Ç–µ –Ω–∞ –¥–∑–≤—ñ–Ω–æ–∫. üìû\n\nüíß –ó–∞ –∫–æ–∂–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ 2% –∑–Ω–∏–∂–∫—É, –∞ –∫–æ–∂–Ω–µ 5‚Äë—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äì 10% –∑–Ω–∏–∂–∫—É!`;
              }
              alert(bonusText);
          })
          .catch(error => {
              console.error("Error sending order to Telegram:", error);
              alert("–í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.");
          });
          
          let orders = JSON.parse(localStorage.getItem('userOrders') || '[]');
          orders.push(finalMsg);
          localStorage.setItem('userOrders', JSON.stringify(orders));
          
          resetOrderModal();
      }, 2000);
    }
    
    // –§—É–Ω–∫—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–æ–º–µ—Ä–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ
    function updateOrderNumberInText(orderText) {
      let lines = orderText.split("\n");
      if(lines[0].startsWith("‚Ññ")) {
         lines.shift();
      }
      let orderNumber = parseInt(localStorage.getItem('orderNumber') || "0", 10);
      orderNumber = (orderNumber % 5) + 1;
      localStorage.setItem('orderNumber', orderNumber);
      return `${orderNumber}/5\n` + lines.join("\n");
    }
    
    function confirmRepeat(orderText) {
      if(confirm("–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è?")) {
        orderText = updateOrderNumberInText(orderText);
        fetch("/save_order", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ order: orderText })
        })
        .then(response => response.json().catch(() => ({status: "ok"})))
        .then(data => {
            let orderNumber = parseInt(localStorage.getItem('orderNumber') || "0", 10);
            let bonusText = "";
            if(orderNumber === 5) {
                bonusText = "–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–æ!\n–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è 5/5 –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –û—á—ñ–∫—É–π—Ç–µ –Ω–∞ –¥–∑–≤—ñ–Ω–æ–∫. üìû\n\nüéâ –ó–∞ –∫–æ–∂–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ 2% –∑–Ω–∏–∂–∫—É, –∞ –∫–æ–∂–Ω–µ 5‚Äë—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äì 10% –∑–Ω–∏–∂–∫—É!";
            } else {
                bonusText = `–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–æ!\n–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ${orderNumber}/5 –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –û—á—ñ–∫—É–π—Ç–µ –Ω–∞ –¥–∑–≤—ñ–Ω–æ–∫. üìû\n\nüíß –ó–∞ –∫–æ–∂–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ 2% –∑–Ω–∏–∂–∫—É, –∞ –∫–æ–∂–Ω–µ 5‚Äë—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äì 10% –∑–Ω–∏–∂–∫—É!`;
            }
            // –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—É —á–µ—Ä–µ–∑ Telegram
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
              method: "POST",
              headers: {
                "Content-Type": "application/json"
              },
              body: JSON.stringify({
                  chat_id: CHAT_ID,
                  text: orderText
              })
            })
            .then(response => response.json().catch(() => ({})))
            .then(data => {
              console.log("Order sent to Telegram (repeat):", data);
            })
            .catch(error => {
              console.error("Error sending repeated order to Telegram:", error);
            });
            
            alert(bonusText);
        })
        .catch(error => {
          console.error("Error repeating order:", error);
          alert("–í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.");
        });
      }
    }
    
    function renderMyOrders() {
      const container = document.getElementById('myOrdersContainer');
      container.innerHTML = "";
      let orders = JSON.parse(localStorage.getItem('userOrders') || '[]');
      if(orders.length === 0) {
        container.innerHTML = "<p>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥—Å—É—Ç–Ω—ñ.</p>";
        return;
      }
      const desiredOrder = ["–Ü–º'—è", "–¢–µ–ª–µ—Ñ–æ–Ω", "–û–±–ª–∞—Å—Ç—å", "–ê–¥—Ä–µ—Å–∞", "–ü–æ—Å–ª—É–≥–∞", "–î–æ–≤–∂–∏–Ω–∞ —Ç—Ä—É–±", "–î—ñ–∞–º–µ—Ç—Ä —Ç—Ä—É–±"];
      
      orders.slice().reverse().forEach((order, index) => {
        let linesForDisplay = order.split("\n").filter(line => {
          line = line.trim();
          return line && 
                 !line.startsWith("–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è:") && 
                 !line.startsWith("OpenStreetMap:");
        });
        let orderMap = {};
        linesForDisplay.forEach(line => {
          if(line.includes(":")) {
            let parts = line.split(":", 2);
            let label = parts[0].trim();
            let value = parts[1].trim();
            orderMap[label] = value;
          }
        });
        let htmlContent = "";
        desiredOrder.forEach(label => {
          if(orderMap[label]) {
            htmlContent += `<p><strong>${label}:</strong> ${orderMap[label]}</p>`;
          }
        });
        
        const orderDiv = document.createElement('div');
        orderDiv.style.border = "1px solid #ccc";
        orderDiv.style.padding = "10px";
        orderDiv.style.marginBottom = "10px";
        orderDiv.style.fontSize = "0.9rem";
        orderDiv.style.whiteSpace = "pre-wrap";
        orderDiv.style.textAlign = "left";
        orderDiv.innerHTML = htmlContent;
        
        orderDiv.dataset.fullorder = order;
        
        const repeatBtn = document.createElement('button');
        repeatBtn.textContent = "–ü–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–º–æ–≤–∏—Ç–∏";
        repeatBtn.style.marginTop = "5px";
        repeatBtn.style.fontSize = "0.9rem";
        repeatBtn.className = "btn";
        repeatBtn.addEventListener('click', () => { 
          confirmRepeat(orderDiv.dataset.fullorder); 
        });
        
        orderDiv.appendChild(repeatBtn);
        container.appendChild(orderDiv);
      });
    }
  </script>
  <script src="https://unpkg.com/imask@7.5.0/dist/imask.js"></script>
</body>
</html>
